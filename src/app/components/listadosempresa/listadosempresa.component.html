<div class="container mb-3">
  <form #filtraoTabla="ngForm" (ngSubmit)="filtrarTabla()">
    <div class="card shadow-card p-4">
      <h1 class="fw-bold text-center">Empresas</h1>
      <div class="row">
        <div class="mt-2 col-md-4">
          <label class="form-label fw-bold">Empresa</label>
          <select class="form-select" #selectempresa name="selectempresa">
            <option value="todo">Todas</option>
            <option
              *ngFor="let empresa of empresasFiltroNombre"
              value="{{ empresa.nombre }}"
            >
              {{ empresa.nombre }}
            </option>
          </select>
        </div>
        <div class="mt-2 col-md-4">
          <label class="form-label fw-bold">Provincia</label>
          <select class="form-select" #selectprovincia name="selectprovincia">
            <option value="0">Todas</option>
            <option
              *ngFor="let prov of provincias"
              value="{{ prov.idProvincia }}"
            >
              {{ prov.nombreProvincia }}
            </option>
          </select>
        </div>
        <div class="mt-2 col-md-4 align-bottom d-flex">
          <button class="btn btn-dark rounded w-100 mt-4">
            Aplicar filtros
          </button>
        </div>
      </div>
    </div>
  </form>

  <div class="row mt-3" *ngIf="empresasCargadas">
    <div
      class="col-md-3 mb-3 d-flex align-items-stretch"
      *ngFor="let empresa of empresasReset"
    >
      <div class="card card shadow-card w-100">
        <div class="card-body">
          <h5 class="card-title text-center">{{ empresa.nombre }}</h5>
          <h6 class="card-subtitle mb-2 text-body-secondary text-center">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              fill="currentColor"
              class="bi bi-linkedin mb-1"
              viewBox="0 0 16 16"
            >
              <path
                fill-rule="evenodd"
                d="M15.817.113A.5.5 0 0 1 16 .5v14a.5.5 0 0 1-.402.49l-5 1a.5.5 0 0 1-.196 0L5.5 15.01l-4.902.98A.5.5 0 0 1 0 15.5v-14a.5.5 0 0 1 .402-.49l5-1a.5.5 0 0 1 .196 0L10.5.99l4.902-.98a.5.5 0 0 1 .415.103M10 1.91l-4-.8v12.98l4 .8zm1 12.98 4-.8V1.11l-4 .8zm-6-.8V1.11l-4 .8v12.98z"
              />
            </svg>
            {{ empresa.direccion }}
          </h6>
          <h6 class="card-subtitle text-body-secondary text-center">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              fill="currentColor"
              class="bi bi-linkedin mb-1"
              viewBox="0 0 16 16"
            >
              <path
                fill-rule="evenodd"
                d="M1.885.511a1.745 1.745 0 0 1 2.61.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.68.68 0 0 0 .178.643l2.457 2.457a.68.68 0 0 0 .644.178l2.189-.547a1.75 1.75 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.6 18.6 0 0 1-7.01-4.42 18.6 18.6 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877z"
              />
            </svg>
            {{ empresa.telefono }}
          </h6>
          <button
            class="btn btn-dark col-12 mt-3"
            (click)="getResponsables(empresa.idEmpresaCentro)"
            *ngIf="role == 1"
          >
            Responsables
          </button>
        </div>
      </div>
    </div>
  </div>
  <img
    *ngIf="!empresasCargadas"
    class="d-block mx-auto w-25"
    src="../../../assets/images/loading.gif"
  />
</div>
