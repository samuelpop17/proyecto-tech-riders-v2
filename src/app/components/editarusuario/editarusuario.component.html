<div class="card shadow-card p-4 mb-3">
  <div *ngIf="usuario && provincias">
    <h1 class="fw-bold text-center">
      Editar perfil<span *ngIf="role == 4 && empresaExists">/empresa</span>
    </h1>
    <p class="text-muted text-center">
      Edita tus campos
      <span *ngIf="role == 4 && empresaExists">y los de tu empresa</span>
    </p>
    <form #editarUsuario="ngForm" (ngSubmit)="editarPerfil()">
      <div class="row">
        <div class="mt-2 col-md-6">
          <label class="form-label fw-bold">Nombre</label>
          <input
            type="text"
            class="form-control"
            [value]="usuario.nombre"
            name="controlnombre"
            #controlnombre
            placeholder="Tu nombre"
          />
        </div>
        <div class="mt-3 mt-md-1 col-md-6">
          <label class="form-label fw-bold">Apellidos</label>
          <input
            type="text"
            class="form-control"
            [value]="usuario.apellidos"
            name="controlapellidos"
            #controlapellidos
            placeholder="Tus apellidos"
          />
        </div>
        <div class="mt-3 col-md-6">
          <label class="form-label fw-bold">Email</label>
          <input
            type="text"
            class="form-control"
            [value]="usuario.email"
            name="controlemail"
            #controlemail
            placeholder="tuemail@example.com"
          />
        </div>
        <div class="mt-3 col-md-6">
          <label class="form-label fw-bold">Teléfono</label>
          <input
            type="text"
            class="form-control"
            [value]="usuario.telefono"
            name="controltelefono"
            #controltelefono
            placeholder="612345678"
          />
        </div>
        <div class="mt-3">
          <label class="form-label fw-bold d-inline">
            <span>LinkedIn</span>
            <div class="form-check form-switch">
              <input
                type="checkbox"
                role="switch"
                class="form-check-input"
                [(ngModel)]="publico"
                name="controllinkedinpublic"
                #controllinkedinpublic
              />
              <label class="form-check-label fw-bold">¿Público?</label>
            </div>
          </label>
          <input
            type="text"
            class="form-control"
            [value]="usuario.linkedIn"
            name="controllinkedin"
            #controllinkedin
            placeholder="El enlace a tu LinkedIn"
          />
        </div>
        <div class="mt-3">
          <label class="form-label fw-bold">Provincia</label>
          <select class="form-select" name="selectprovincia" #selectprovincia>
            <option
              *ngFor="let provincia of provincias"
              [value]="provincia.idProvincia"
              [selected]="provincia.idProvincia == usuario.idProvincia"
            >
              {{ provincia.nombreProvincia }}
            </option>
          </select>
        </div>
      </div>

      <!-- datos empresa representante -->
      <div
        class="accordion mt-3"
        id="accordion"
        *ngIf="role == 4 && empresaExists && empresaLoaded"
      >
        <div class="accordion-item">
          <h2 class="accordion-header">
            <button
              class="accordion-button fw-bold"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#collapseOne"
              aria-expanded="true"
              aria-controls="collapseOne"
            >
              Datos Empresa
            </button>
          </h2>
          <div
            id="collapseOne"
            class="accordion-collapse collapse show"
            data-bs-parent="#accordion"
          >
            <div class="accordion-body">
              <div class="row">
                <div class="mt-3 col-md-6">
                  <label class="form-label fw-bold">Nombre Empresa</label>
                  <input
                    type="text"
                    class="form-control"
                    [value]="empresaCentro.nombre"
                    name="controlnombreempresa"
                    #controlnombreempresa
                  />
                </div>
                <div class="mt-3 col-md-6">
                  <label class="form-label fw-bold">Teléfono</label>
                  <input
                    type="text"
                    class="form-control"
                    [value]="empresaCentro.telefono"
                    name="controltelefonoempresa"
                    #controltelefonoempresa
                  />
                </div>
                <div class="mt-3 col-md-6">
                  <label class="form-label fw-bold">CIF</label>
                  <input
                    type="text"
                    class="form-control"
                    [value]="empresaCentro.cif"
                    name="cif"
                    #cif
                  />
                </div>
                <div class="mt-3 col-md-6">
                  <label class="form-label fw-bold">Dirección</label>
                  <input
                    type="text"
                    class="form-control"
                    [value]="empresaCentro.direccion"
                    name="direccion"
                    #direccion
                  />
                </div>
                <div class="mt-3 col-md-6">
                  <label class="form-label fw-bold">Persona Contacto</label>
                  <input
                    type="text"
                    class="form-control"
                    [value]="empresaCentro.personaContacto"
                    name="personaContacto"
                    #personaContacto
                  />
                </div>
                <div class="mt-3 col-md-6">
                  <label class="form-label fw-bold">Razón Social</label>
                  <input
                    type="text"
                    class="form-control"
                    [value]="empresaCentro.razonSocial"
                    name="razonsocial"
                    #razonsocial
                  />
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <img
        *ngIf="role == 4 && empresaExists && !empresaLoaded"
        class="d-block mx-auto w-25"
        src="../../../assets/images/loading.gif"
      />

      <div class="col-12">
        <button class="btn btn-dark w-100 mt-3 py-2">Editar perfil</button>
      </div>
    </form>
  </div>
  <img
    *ngIf="!usuario || !provincias"
    class="d-block mx-auto w-25"
    src="../../../assets/images/loading.gif"
  />
</div>
